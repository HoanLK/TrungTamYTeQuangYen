front.controller("homeController",["$scope","$http","$window","$location","$filter","$sce",function(n,t,i,r,u,f){function o(){h();c();l();a();y();v();s()}function s(){t.get("/API/PostAPI?att=gioiThieu&&value=6").then(function(t){n.gioiThieus=t.data;console.log(t.data)},function(){})}function h(){t.get("/Home/GetServices").then(function(t){n.services=angular.copy(t.data);angular.forEach(n.services,function(n){n.description!=null&&(n.description=n.description.length>170?e(n.description,172):n.description)})},function(){})}function c(){t.get("/API/InfoCompanyAPI").then(function(t){t.status==200&&(n.infoCompany=angular.copy(t.data[0]))},function(){})}function l(){t.get("/Home/GetPosts").then(function(t){angular.forEach(t.data,function(n){n.timePublished=new Date(parseInt(n.timePublished.substr(6)));n.description!=null&&(n.description=n.description.length>130?e(n.description,127):n.description)});n.featuredPosts=angular.copy(t.data)},function(){})}function a(){t.get("/API/BacSiAPI?att=bacSiHome&&value=6").then(function(t){n.bacSis=t.data},function(){})}function v(){t.get("/API/GalleryAPI?att=galleryHome&&value=6").then(function(t){n.thuViens=t.data},function(){})}function y(){t.get("/API/VideoAPI?att=videoHome&&value=6").then(function(t){angular.forEach(t.data,function(n){n.link=f.trustAsResourceUrl(n.link)});n.videos=t.data},function(){})}function e(n,t){for(var r=angular.copy(n),i=angular.copy(t-1);r[i]!=" "&&i<r.length-1;)i++;return r.substring(0,i)+"..."}n.banners=[];n.services=[];n.infoCompany={};n.featuredPosts=[];n.bacSis=[];n.videos=[];n.thuViens=[];n.gioiThieus=[];o()}]);